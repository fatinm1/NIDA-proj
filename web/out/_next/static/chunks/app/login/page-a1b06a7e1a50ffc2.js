(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{5531:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var s=r(2265);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=a(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:d,...u},h)=>(0,s.createElement)("svg",{ref:h,...c,width:t,height:t,stroke:e,strokeWidth:n?24*Number(r)/Number(t):r,className:l("lucide",a),...!i&&!o(u)&&{"aria-hidden":"true"},...u},[...d.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(i)?i:[i]])),u=(e,t)=>{let r=(0,s.forwardRef)(({className:r,...a},o)=>(0,s.createElement)(d,{ref:o,iconNode:t,className:l(`lucide-${n(i(e))}`,`lucide-${e}`,r),...a}));return r.displayName=i(e),r}},3067:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(5531).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8063:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(5531).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},9036:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(5531).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},3035:function(e,t,r){Promise.resolve().then(r.bind(r,415))},415:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var s=r(7437),n=r(2265),a=r(4033),i=r(3067),l=r(9036),o=r(8063);let c=(0,r(5531).Z)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);var d=r(1396),u=r.n(d),h=r(4175),x=r(8810);function f(){let[e,t]=(0,n.useState)(!1),[r,d]=(0,n.useState)(""),[f,m]=(0,n.useState)(""),[p,b]=(0,n.useState)(""),j=(0,a.useRouter)(),{login:w,user:y,loading:g}=(0,x.useAuth)();(0,n.useEffect)(()=>{!g&&y&&j.push("/dashboard")},[y,g,j]);let v=async e=>{e.preventDefault(),t(!0),b("");try{let e=await (0,h.x4)({email:r,password:f});w(e.user)}catch(e){b(e instanceof Error?e.message:"Login failed")}finally{t(!1)}};return(0,n.useEffect)(()=>{y&&!g&&("ADMIN"===y.role?j.push("/dashboard"):j.push("/user-dashboard"))},[y,g,j]),(0,s.jsx)("div",{className:"min-h-screen bg-[#0B1220] text-[#E5E7EB]",children:g?(0,s.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-[#60A5FA] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-xl text-[#E5E7EB]/80",children:"Loading..."})]})}):y?(0,s.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-[#60A5FA] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-xl text-[#E5E7EB]/80",children:"Redirecting to dashboard..."})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("header",{className:"bg-[#0B1220]/90 backdrop-blur-md border-b border-white/10 sticky top-0 z-50",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(u(),{href:"/",className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-[#60A5FA] rounded-full animate-pulse"}),(0,s.jsx)("span",{className:"text-xl font-semibold text-white",children:"NDA Redline"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("span",{className:"text-sm text-[#E5E7EB]/60",children:"Secure Login"}),(0,s.jsxs)(u(),{href:"/",className:"text-[#60A5FA] hover:text-[#60A5FA]/80 transition-colors flex items-center space-x-2",children:[(0,s.jsx)(i.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Back to Home"})]})]})]})})}),(0,s.jsx)("div",{className:"max-w-md mx-auto px-6 py-16",children:(0,s.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-8 shadow-2xl",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-[#60A5FA]/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(l.Z,{className:"w-8 h-8 text-[#60A5FA]"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),(0,s.jsx)("p",{className:"text-[#E5E7EB]/60",children:"Sign in to your NDA Redline account"})]}),p&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center space-x-3",children:[(0,s.jsx)(o.Z,{className:"w-5 h-5 text-red-400"}),(0,s.jsx)("span",{className:"text-red-400 text-sm",children:p})]}),(0,s.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-[#E5E7EB]/80 mb-2",children:"Email Address"}),(0,s.jsx)("input",{id:"email",type:"email",value:r,onChange:e=>d(e.target.value),required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-[#E5E7EB]/40 focus:outline-none focus:border-[#60A5FA] focus:ring-2 focus:ring-[#60A5FA]/20 transition-all duration-200",placeholder:"Enter your email"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-[#E5E7EB]/80 mb-2",children:"Password"}),(0,s.jsx)("input",{id:"password",type:"password",value:f,onChange:e=>m(e.target.value),required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-[#E5E7EB]/40 focus:outline-none focus:border-[#60A5FA] focus:ring-2 focus:ring-[#60A5FA]/20 transition-all duration-200",placeholder:"Enter your password"})]}),(0,s.jsx)("button",{type:"submit",disabled:e,className:"w-full bg-[#60A5FA] hover:bg-[#60A5FA]/80 disabled:bg-[#60A5FA]/40 disabled:cursor-not-allowed text-white py-3 rounded-lg font-semibold transition-colors flex items-center justify-center space-x-2",children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("span",{children:"Signing In..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Sign In"})]})})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-[#E5E7EB]/60",children:["Don't have an account?"," ",(0,s.jsx)(u(),{href:"/register",className:"text-[#60A5FA] hover:text-[#60A5FA]/80 transition-colors",children:"Sign up here"})]})})]})})]})})}},8810:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return l},useAuth:function(){return o}});var s=r(7437),n=r(2265),a=r(4175);let i=(0,n.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,n.useState)(null),[o,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=(0,a.vF)();e&&(l(e),c(!0)),(0,a.ts)().then(e=>{e?(l(e),(0,a.c7)(e),c(!0)):((0,a.Jp)(),l(null),c(!1))}).catch(()=>{(0,a.Jp)(),l(null),c(!1)}).finally(()=>{u(!1)})},[]);let h=async()=>{try{await fetch("/v1/auth/logout",{method:"POST",credentials:"include"})}catch(e){}l(null),c(!1),(0,a.Jp)()};return(0,s.jsx)(i.Provider,{value:{user:r,isAuthenticated:o,login:e=>{l(e),c(!0),(0,a.c7)(e)},logout:h,loading:d},children:t})}function o(){let e=(0,n.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4175:function(e,t,r){"use strict";async function s(e){let t=await fetch("".concat("http://localhost:5001","/v1/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).error||"Login failed");return t.json()}async function n(e){let t=await fetch("".concat("http://localhost:5001","/v1/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).error||"Registration failed");return t.json()}async function a(){try{let e=await fetch("".concat("http://localhost:5001","/v1/auth/me"),{credentials:"include"});if(e.ok)return(await e.json()).user;return null}catch(e){return null}}function i(){let e=localStorage.getItem("user");if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}function l(e){localStorage.setItem("user",JSON.stringify(e))}function o(){localStorage.removeItem("user")}r.d(t,{Jp:function(){return o},c7:function(){return l},ts:function(){return a},vF:function(){return i},x4:function(){return s},z2:function(){return n}})},622:function(e,t,r){"use strict";var s=r(2265),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var s,a={},c=null,d=null;for(s in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,s)&&!o.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===a[s]&&(a[s]=t[s]);return{$$typeof:n,type:e,key:c,ref:d,props:a,_owner:l.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},7437:function(e,t,r){"use strict";e.exports=r(622)},1396:function(e,t,r){e.exports=r(5250)},4033:function(e,t,r){e.exports=r(5313)}},function(e){e.O(0,[250,971,938,744],function(){return e(e.s=3035)}),_N_E=e.O()}]);